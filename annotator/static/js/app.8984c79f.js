(function(e){function t(t){for(var s,c,i=t[0],l=t[1],r=t[2],u=0,p=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},o={app:0},a=[];function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var r=0;r<i.length;r++)t(i[r]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03cd":function(e,t,n){e.exports=n.p+"img/undraw_annotation.ed9a9fc2.svg"},"2fc4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("7a23");function o(e,t,n,o,a,c){const i=Object(s["u"])("StartPage"),l=Object(s["u"])("AnnotationPage");return Object(s["p"])(),Object(s["f"])("div",null,["start"===e.currentPage?(Object(s["p"])(),Object(s["d"])(i,{key:0,onFileLoaded:c.onFileLoaded},null,8,["onFileLoaded"])):Object(s["e"])("",!0),"annotator"===e.currentPage?(Object(s["p"])(),Object(s["d"])(l,{key:1})):Object(s["e"])("",!0)])}var a=n("03cd"),c=n.n(a);const i=Object(s["h"])('<section class="hero is-dark"><div class="hero-body"><div class="container"><h1 class="title">NER Maxim Text Annotator</h1><h2 class="subtitle">Annotate text for SpaCy NER Model training</h2></div></div></section>',1),l={class:"hero"},r={class:"container"},d={class:"columns"},u={class:"column"},p={class:"column"},b=Object(s["g"])("div",{class:"column"},[Object(s["g"])("figure",{class:"image",style:{"max-height":"15rem"}},[Object(s["g"])("img",{src:c.a})])],-1),m=Object(s["h"])('<section id="explanation" class="hero is-light"><div class="hero-body"><div class="container"><h1 class="title">How to use?</h1><div class="columns"><div class="column is-narrow"><button class="button is-rounded is-small is-dark">1</button></div><div class="column"><p class="is-size-5"><strong>Prepare and upload the input file</strong></p><p>Put all the text that needs to be annotated into a text file. If the corpus is large, split it into multiple files.</p><p>Each line will be presented as an entry for annotating one by one.</p></div></div><div class="columns"><div class="column is-narrow"><button class="button is-rounded is-small is-dark">2</button></div><div class="column"><p class="is-size-5"><strong>Create Tags and annotate</strong></p><p>You can create any number of custom tags to annotate your text. The text will be presented as tokens for easy tagging.</p><p>You can start your selection anywhere on a word and end anywhere to tag a word. No character level accuracy is needed.</p></div></div><div class="columns"><div class="column is-narrow"><button class="button is-rounded is-small is-dark">3</button></div><div class="column"><p class="is-size-5"><strong>Export your annotations as JSON</strong></p><p>The annotations are exported into a JSON array with the format:</p><pre><code>\n{\n  &quot;classes&quot;: [...],\n  &quot;annotations&quot;: [\n    [&quot;raw_text&quot;, {&quot;entities&quot;: [(start, end, class),....]}],\n    ...\n  ]\n}\n              </code></pre></div></div><div class="columns"><div class="column is-narrow"><button class="button is-rounded is-small is-dark">4</button></div><div class="column"><p class="is-size-5"><strong>Use the JSON for training your model</strong></p><pre><code>\nimport json\nimport spacy\n\n# load the training data\nwith open(&#39;your-annotations.json&#39;) as fp:\n  training_data = json.load(fp)\n\n# prepare an empty model to train\nnlp = spacy.blank(&#39;en&#39;)\nnlp.vocab.vectors.name = &#39;demo&#39;\nner = nlp.create_pipe(&#39;ner&#39;)\nnlp.add_pipe(ner, last=True)\n\n# Add the custome NER Tags as entities into the model\nfor label in training_data[&quot;classes&quot;]:\n  nlp.entity.add_label(label)\n\n# Train the model\noptimizer = nlp.begin_training()\n\nfor text, annotations in training_data[&quot;annotations&quot;]:\n    if len(text) &gt; 0: # in case an empty sentence was saved while annotating\n        nlp.update([text], [annotations], sgd=optimizer)\n             </code></pre></div></div></div></div></section>',1);function h(e,t,n,o,a,c){const h=Object(s["u"])("LoadTextFile"),g=Object(s["u"])("LoadJSONFile");return Object(s["p"])(),Object(s["f"])("div",null,[i,Object(s["g"])("section",l,[Object(s["g"])("div",r,[Object(s["g"])("div",d,[Object(s["g"])("div",u,[Object(s["j"])(h,{class:"pt-6",onFileLoaded:c.onFileLoaded},null,8,["onFileLoaded"])]),Object(s["g"])("div",p,[Object(s["j"])(g,{class:"pt-6",onFileLoaded:c.onFileLoaded},null,8,["onFileLoaded"])]),b])])]),m])}const g={class:"field"},f={class:"file is-centered is-primary has-name is-boxed my-4"},O={class:"file-label"},j={class:"file-cta"},v={class:"file-icon"},k=Object(s["g"])("span",{class:"file-label"}," Select txt file to start notating ",-1);function y(e,t,n,o,a,c){const i=Object(s["u"])("font-awesome-icon");return Object(s["p"])(),Object(s["f"])("div",g,[Object(s["g"])("div",f,[Object(s["g"])("label",O,[Object(s["g"])("input",{class:"file-input",type:"file",name:"textfile",accept:".txt",onChange:t[0]||(t[0]=(...e)=>c.onFileSelected&&c.onFileSelected(...e))},null,32),Object(s["g"])("span",j,[Object(s["g"])("span",v,[Object(s["j"])(i,{icon:"file-alt"})]),k])])])])}var C=n("5502"),S={name:"LoadTextFile",emits:["file-loaded"],methods:{...Object(C["c"])(["setInputSentences"]),onFileSelected(e){let t=e.target.files;if(!t.length)return;let n=new FileReader;n.addEventListener("load",e=>{this.setInputSentences(e.target.result),this.$emit("file-loaded")}),n.readAsText(t[0])}}},w=n("6b0d"),x=n.n(w);const N=x()(S,[["render",y]]);var T=N;const A={class:"field"},I={class:"file is-centered is-primary has-name is-boxed my-4"},F={class:"file-label"},P={class:"file-cta"},L={class:"file-icon"},B=Object(s["g"])("span",{class:"file-label"}," Select json file to continue notating ",-1);function E(e,t,n,o,a,c){const i=Object(s["u"])("font-awesome-icon");return Object(s["p"])(),Object(s["f"])("div",A,[Object(s["g"])("div",I,[Object(s["g"])("label",F,[Object(s["g"])("input",{class:"file-input",type:"file",name:"textfile",accept:".json",onChange:t[0]||(t[0]=(...e)=>c.onFileSelected&&c.onFileSelected(...e))},null,32),Object(s["g"])("span",P,[Object(s["g"])("span",L,[Object(s["j"])(i,{icon:"file-alt"})]),B])])])])}var _={name:"LoadTextFile",emits:["file-loaded"],methods:{...Object(C["b"])(["continueNotatingJSONFile"]),onFileSelected(e){let t=e.target.files;if(!t.length)return;let n=new FileReader;n.addEventListener("load",e=>{this.continueNotatingJSONFile(e.target.result),this.$emit("file-loaded")}),n.readAsText(t[0])}}};const q=x()(_,[["render",E]]);var J=q,z={name:"StartPage",emits:["file-loaded"],components:{LoadTextFile:T,LoadJSONFile:J},methods:{onFileLoaded(){this.$emit("file-loaded")}}};const $=x()(z,[["render",h]]);var R=$;const U={class:"columns is-desktop"},V={class:"column is-one-fifth"},M={class:"column"},K={class:"panel m-4"},Y={class:"panel-heading"},G={class:"panel-block"},H={id:"editor"},D={class:"panel-block"},Q={class:"field is-grouped"},W={class:"control"},X={class:"control"},Z={class:"control"};function ee(e,t,n,o,a,c){const i=Object(s["u"])("AnnotationSidebar"),l=Object(s["u"])("classes-block");return Object(s["p"])(),Object(s["f"])("div",U,[Object(s["g"])("div",V,[Object(s["j"])(i,{current:e.currentSentence},null,8,["current"])]),Object(s["g"])("div",M,[Object(s["g"])("div",K,[Object(s["g"])("div",Y,[Object(s["j"])(l)]),Object(s["g"])("div",G,[Object(s["g"])("div",H,[(Object(s["p"])(!0),Object(s["f"])(s["a"],null,Object(s["t"])(e.tm.tokens,e=>(Object(s["p"])(),Object(s["d"])(Object(s["v"])("token"===e.type?"Token":"TokenBlock"),{id:"t"+e.start,token:e,key:e.start,backgroundColor:e.backgroundColor,onRemoveBlock:c.onRemoveBlock},null,40,["id","token","backgroundColor","onRemoveBlock"]))),128))])]),Object(s["g"])("div",D,[Object(s["g"])("div",Q,[Object(s["g"])("p",W,[Object(s["g"])("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>c.goToPreviousSentence&&c.goToPreviousSentence(...e))},"Go Back")]),Object(s["g"])("p",X,[Object(s["g"])("button",{class:"button is-link",onClick:t[1]||(t[1]=(...e)=>c.saveTags&&c.saveTags(...e))},"Save")]),Object(s["g"])("p",Z,[Object(s["g"])("button",{class:"button is-danger is-outlined",onClick:t[2]||(t[2]=(...e)=>c.resetBlocks&&c.resetBlocks(...e))}," Reset ")])])])])])])}var te=n("bc3a"),ne=n.n(te);const se=ne.a.create({baseURL:"https://arcane-sands-86804.herokuapp.com",timeout:3e3});var oe=se;const ae={key:0,class:"token"};function ce(e,t,n,o,a,c){return"token"===n.token.type?(Object(s["p"])(),Object(s["f"])("span",ae,Object(s["w"])(n.token.text),1)):Object(s["e"])("",!0)}var ie={name:"Token",props:{token:{type:Object,required:!0}}};n("fd47");const le=x()(ie,[["render",ce]]);var re=le;const de={class:"tag"};function ue(e,t,n,o,a,c){const i=Object(s["u"])("Token");return Object(s["p"])(),Object(s["f"])("mark",{style:Object(s["o"])({backgroundColor:n.backgroundColor})},[(Object(s["p"])(!0),Object(s["f"])(s["a"],null,Object(s["t"])(n.token.tokens,e=>(Object(s["p"])(),Object(s["d"])(i,{token:e,key:e.start},null,8,["token"]))),128)),Object(s["g"])("span",de,[Object(s["i"])(Object(s["w"])(n.token.label)+" ",1),Object(s["g"])("a",{class:"delete is-small",onClick:t[0]||(t[0]=t=>e.$emit("remove-block",n.token.start))})])],4)}var pe={name:"TokenBlock",emits:["remove-block"],data:function(){return{showClose:!1}},props:{token:{type:Object,requried:!0},backgroundColor:{type:String,required:!1}},components:{Token:re}};n("ea38");const be=x()(pe,[["render",ue]]);var me=be;const he={class:"px-3"};function ge(e,t,n,o,a,c){const i=Object(s["u"])("split-type-selector"),l=Object(s["u"])("progress-bar"),r=Object(s["u"])("export");return Object(s["p"])(),Object(s["f"])("nav",he,[Object(s["j"])(i,{class:"mt-4 mb-5"}),Object(s["j"])(l,{class:"mb-5",completed:n.current.id,total:e.inputSentences.length},null,8,["completed","total"]),Object(s["j"])(r)])}const fe={class:"my-2"};function Oe(e,t,n,o,a,c){return Object(s["p"])(),Object(s["f"])("div",fe,[Object(s["g"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=e=>c.generateJSONExport())}," Export Annotations ")])}var je={name:"Export",computed:{...Object(C["d"])(["annotations","classes"])},methods:{generateJSONExport(){const e="training_data.json",t={classes:this.classes.map(e=>e.name),annotations:this.annotations},n=JSON.stringify(t);let s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}};const ve=x()(je,[["render",Oe]]);var ke=ve;const ye={class:"my-2"},Ce=Object(s["g"])("p",{class:"is-size-6"},[Object(s["g"])("strong",null,"Tagging Progress")],-1),Se={class:"is-size-7 has-text-right"},we=["value","max"];function xe(e,t,n,o,a,c){return Object(s["p"])(),Object(s["f"])("div",ye,[Ce,Object(s["g"])("p",Se,"Completed "+Object(s["w"])(n.completed)+"/"+Object(s["w"])(n.total),1),Object(s["g"])("progress",{class:"progress is-small is-primary",value:n.completed,max:n.total},Object(s["w"])(c.completedPercent)+"% ",9,we)])}var Ne={name:"ProgressBar",props:{completed:{type:Number,required:!0},total:{type:Number,required:!0}},computed:{completedPercent(){return parseInt(this.completed/this.total*100)}}};const Te=x()(Ne,[["render",xe]]);var Ae=Te;const Ie={class:"control"},Fe=Object(s["g"])("label",{class:"label"}," Text separator ",-1),Pe={class:"select"},Le=["disabled"],Be=Object(s["g"])("option",{value:"newline"},"New Line",-1),Ee=Object(s["g"])("option",{value:"emptyline"},"An Empty Line",-1),_e=Object(s["g"])("option",{value:"custom"},"Custom String",-1),qe=[Be,Ee,_e],Je={key:0,class:"field my-2"},ze={class:"control"},$e=["disabled"];function Re(e,t,n,o,a,c){return Object(s["p"])(),Object(s["f"])("section",null,[Object(s["g"])("div",Ie,[Fe,Object(s["g"])("div",Pe,[Object(s["A"])(Object(s["g"])("select",{name:"split_type",id:"split_type","onUpdate:modelValue":t[0]||(t[0]=e=>c.splitType=e),onSelect:t[1]||(t[1]=(...t)=>e.onSelect&&e.onSelect(...t)),disabled:e.annotations.length},qe,40,Le),[[s["x"],c.splitType]])])]),"custom"===c.splitType?(Object(s["p"])(),Object(s["f"])("div",Je,[Object(s["g"])("div",ze,[Object(s["A"])(Object(s["g"])("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>a.customSeparator=e),onChange:t[3]||(t[3]=(...e)=>c.separatorChanged&&c.separatorChanged(...e)),disabled:e.annotations.length},null,40,$e),[[s["y"],a.customSeparator]])])])):Object(s["e"])("",!0)])}var Ue={name:"SpitTypeSelector",data(){return{customSeparator:"---"}},computed:{...Object(C["d"])(["annotations"]),splitType:{get(){switch(this.$store.state.separator){case"\n":return"newline";case"\n\n":return"emptyline";default:return"custom"}},set(e){switch(e){case"newline":this.$store.commit("setSeparator","\n");break;case"emptyline":this.$store.commit("setSeparator","\n\n");break;default:this.$store.commit("setSeparator","---");break}}}},methods:{separatorChanged(){this.$store.commit("setSeparator",this.customSeparator)}}};const Ve=x()(Ue,[["render",Re]]);var Me=Ve,Ke={name:"AnnotationSidebar",props:{current:{type:Object,required:!0}},components:{ProgressBar:Ae,Export:ke,SplitTypeSelector:Me},computed:{...Object(C["d"])(["inputSentences"]),visibleSentences(){let e=this.current.id;e+10>this.inputSentences.length&&(e=this.inputSentences.length-10);let t=e+10;return this.inputSentences.slice(e,t)}}};n("85cc");const Ye=x()(Ke,[["render",ge]]);var Ge=Ye;const He={class:"field is-grouped is-grouped-multiline"},De={class:"tags is-medium has-addons"},Qe=["onClick"],We=["onClick"],Xe={key:0,class:"control"},Ze={class:"control"},et={class:"icon"};function tt(e,t,n,o,a,c){const i=Object(s["u"])("font-awesome-icon");return Object(s["p"])(),Object(s["f"])("div",He,[(Object(s["p"])(!0),Object(s["f"])(s["a"],null,Object(s["t"])(e.classes,t=>(Object(s["p"])(),Object(s["f"])("div",{class:"control",key:t.id},[Object(s["g"])("div",De,[Object(s["g"])("a",{class:Object(s["n"])(["tag is-medium",{"is-link":t.id===e.currentClass.id}]),onClick:n=>e.setCurrentClass(t.id)},[Object(s["g"])("span",{class:"color-box",style:Object(s["o"])({backgroundColor:t.color})},null,4),Object(s["i"])(" "+Object(s["w"])(t.name),1)],10,Qe),Object(s["g"])("a",{class:"tag is-medium is-delete",onClick:n=>e.removeClass(t.id)},null,8,We)])]))),128)),a.showNewClassInput||0===e.classes.length?(Object(s["p"])(),Object(s["f"])("p",Xe,[Object(s["A"])(Object(s["g"])("input",{type:"text",class:"input is-inline","onUpdate:modelValue":t[0]||(t[0]=e=>a.newClassName=e),onKeyup:t[1]||(t[1]=(...e)=>c.onInputKeyup&&c.onInputKeyup(...e)),placeholder:"NER TAG"},null,544),[[s["y"],a.newClassName]]),Object(s["g"])("button",{class:"button is-info is-inline",onClick:t[2]||(t[2]=(...e)=>c.saveNewClass&&c.saveNewClass(...e))}," Add ")])):Object(s["e"])("",!0),Object(s["g"])("p",Ze,[Object(s["g"])("button",{class:"button is-primary",onClick:t[3]||(t[3]=e=>a.showNewClassInput=!0)},[Object(s["g"])("span",et,[Object(s["j"])(i,{class:"fa-lg",icon:"plus-square"})])])])])}var nt={name:"ClassesBlock",data(){return{showNewClassInput:!1,newClassName:""}},computed:{...Object(C["d"])(["classes","currentClass"])},watch:{newClassName(e,t){e!=t&&(this.newClassName=e.toUpperCase())}},methods:{...Object(C["c"])(["removeClass","setCurrentClass"]),saveNewClass(){this.$store.commit("addClass",this.newClassName),this.showNewClassInput=!1,this.newClassName=""},onInputKeyup(e){"Enter"===e.key&&this.saveNewClass()}}};n("6486");const st=x()(nt,[["render",tt],["__scopeId","data-v-0a5b35a9"]]);var ot=st;class at{constructor(e){this.tokens=e.map(e=>({type:"token",start:e[0],end:e[1],text:e[2]})),this.words=e.map(e=>e[2])}addNewBlock(e,t,n){let s=[],o=[],a=t<e?t:e,c=t>e?t:e;for(let i=0;i<this.tokens.length;i++){let e=this.tokens[i];e.start<a?o.push(e):"token"==e.type&&e.start>=a&&e.start<=c?s.push(e):e.start>a&&s.length?(o.push({type:"token-block",start:s[0].start,end:s[s.length-1].end,tokens:s,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),s=[],o.push(e)):o.push(e)}s.length&&o.push({type:"token-block",start:s[0].start,end:s[s.length-1].end,tokens:s,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),this.tokens=o}removeBlock(e){let t=[];for(let n=0;n<this.tokens.length;n++)"token-block"===this.tokens[n].type&&this.tokens[n].start===e?t.push(...this.tokens[n].tokens):t.push(this.tokens[n]);this.tokens=t}resetBlocks(){let e=[];for(let t=0;t<this.tokens.length;t++)"token"===this.tokens[t].type?e.push(this.tokens[t]):e.push(...this.tokens[t].tokens);this.tokens=e}exportAsAnnotation(){let e=[];for(let t=0;t<this.tokens.length;t++)if("token-block"===this.tokens[t].type){let n=this.tokens[t];e.push([n.start,n.end,n.label])}return e}}var ct=at,it={name:"AnnotationPage",data:function(){return{tm:new ct([]),currentSentence:{},currentIndex:0,redone:""}},components:{Token:re,TokenBlock:me,AnnotationSidebar:Ge,ClassesBlock:ot},computed:{...Object(C["d"])(["inputSentences","classes","annotations","currentClass","targetClass","isJSON"])},watch:{inputSentences(){this.currentIndex=0,this.tokenizeCurrentSentence()}},created(){this.isJSON?this.restoreAnnotationValues():this.inputSentences.length&&this.tokenizeCurrentSentence(),document.addEventListener("mouseup",this.selectTokens)},beforeUnmount(){document.removeEventListener("mouseup",this.selectTokens)},methods:{async tokenizeCurrentSentence(){this.currentIndex>=this.inputSentences.length?alert("You have completed all the sentences"):(this.currentSentence=this.inputSentences[this.currentIndex],await oe.post("/tokenize",this.currentSentence).then(e=>{this.tm=new ct(e.data.tokens)}).catch(e=>alert(e)))},selectTokens(){let e,t,n=document.getSelection();if(n.anchorOffset!==n.focusOffset||n.anchorNode!==n.focusNode){try{e=parseInt(n.anchorNode.parentElement.id.replace("t","")),t=parseInt(n.focusNode.parentElement.id.replace("t",""))}catch(s){return void console.log("selected text were not tokens")}if(!this.classes.length&&n.anchorNode)return alert("There are no Tags available. Kindly add some Tags before tagging."),void n.empty();this.tm.addNewBlock(e,t,this.currentClass),n.empty()}},onRemoveBlock(e){this.tm.removeBlock(e)},resetBlocks(){this.tm.resetBlocks()},saveTags(){try{const e=this.annotations[this.currentIndex];e.length&&(console.log(1),oe.post("/detokenize",{tokens:this.tm.words}).then(e=>{this.$store.commit("changeAnnotation",{data:[e.data.text,{entities:this.tm.exportAsAnnotation()}],index:this.currentIndex}),this.currentIndex=this.currentIndex+1,this.restoreAnnotationValues()}).catch(e=>{console.log(e)}))}catch(e){oe.post("/detokenize",{tokens:this.tm.words}).then(e=>{this.$store.commit("addAnnotation",[e.data.text,{entities:this.tm.exportAsAnnotation()}]),this.currentIndex++,this.tokenizeCurrentSentence()}).catch(e=>{console.log(e)})}},goToPreviousSentence(){0!==this.currentIndex?(this.currentIndex=this.currentIndex-1,this.restoreAnnotationValues()):console.log(this.currentIndex)},async restoreAnnotationValues(){await this.tokenizeCurrentSentence();const e=this.annotations[this.currentIndex];if(this.annotations[this.currentIndex]&&e[1].entities.length)try{if(1===e[1].entities.length){const t=e[1].entities[0];this.$store.commit("findClass",t[2]),this.tm.addNewBlock(t[0],t[1],this.targetClass)}else for(let t=0;t<e[1].entities.length;t++){const n=e[1].entities[t];this.$store.commit("findClass",n[2]),this.tm.addNewBlock(n[0],n[1],this.targetClass)}}catch(t){console.log(t)}}}};n("d2f0");const lt=x()(it,[["render",ee]]);var rt=lt,dt=(n("2fc4"),{name:"App",data:function(){return{currentPage:"start"}},components:{StartPage:R,AnnotationPage:rt},methods:{onFileLoaded(){this.currentPage="annotator"}}});const ut=x()(dt,[["render",o]]);var pt=ut;n("54ba"),n("13d5");const bt=["#eeff96","#bdff96","#96ffee","#96bbff","#be96ff","#ef96ff","#ff96d2","#ff9696","#ffd596"],mt={continueNotatingJSONFile(e,t){const n=JSON.parse(t);let s="";console.log(1),console.log(n.classes);for(let o=0;o<n.classes.length;o++)e.commit("addClass",n.classes[o]);for(let o=0;o<n.annotations.length;o++)s=s+n.annotations[o][0].trim()+" ",o+1<n.annotations.length&&(s+="\n"),n.annotations[o][1].entities.length,e.commit("addAnnotation",n.annotations[o]);e.commit("setInputSentences",s),e.state.isJSON=!0}},ht={setInputSentences(e,t){Array.isArray(t)||(e.originalText=t,t=t.split(e.separator)),e.inputSentences=t.map((e,t)=>({id:t,text:e}))},addClass(e,t){let n=e.classes.find(e=>e.name==t);if(n)return;let s=e.classes.reduce((e,t)=>t.id>e?t.id:e,0);e.classes.push({id:s+1,name:t,color:bt[s%bt.length]}),1===e.classes.length&&(e.currentClass=e.classes[0])},removeClass(e,t){e.classes=e.classes.filter(e=>e.id!=t),e.currentClass.id===t&&(e.currentClass=e.classes[0])},setCurrentClass(e,t){e.currentClass=e.classes.find(e=>e.id===t)},findClass(e,t){const n=e.classes.find(e=>e.name===t);e.targetClass=n},addAnnotation(e,t){e.annotations.push(t)},changeAnnotation(e,t){console.dir(t),e.annotations[t.index]=t.data},setSeparator(e,t){e.separator=t;const n=e.originalText.split(e.separator);e.inputSentences=n.map((e,t)=>({id:t,text:e}))}},gt={};var ft={state(){return{originalText:"",separator:"\n",classes:[],inputSentences:[],annotations:[],currentClass:{},targetClass:{},isJSON:!1}},getters:gt,mutations:ht,actions:mt},Ot=n("ecee"),jt=n("c074"),vt=n("ad3d");Ot["c"].add(jt["a"]),Ot["c"].add(jt["b"]);const kt=Object(s["c"])(pt);kt.use(Object(C["a"])(ft)),kt.component("font-awesome-icon",vt["a"]),kt.mount("#app")},"62c0":function(e,t,n){},6486:function(e,t,n){"use strict";n("66da")},"66da":function(e,t,n){},"85cc":function(e,t,n){"use strict";n("df5a")},d2f0:function(e,t,n){"use strict";n("62c0")},df5a:function(e,t,n){},ea38:function(e,t,n){"use strict";n("f97a")},f97a:function(e,t,n){},fa97:function(e,t,n){},fd47:function(e,t,n){"use strict";n("fa97")}});
//# sourceMappingURL=app.8984c79f.js.map